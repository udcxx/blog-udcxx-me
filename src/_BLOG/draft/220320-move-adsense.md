---
title: 広告の表示位置を変えました
date: 2022-03-20
tags: Blog Vue IT
eyecatch: 220320.jpg
description: 今までごめんなさい！AdSenseの自動広告のせいで記事が読みづらかったので改善しました。
---

こんにちは、だいちゃん [@udcxx](https://twitter.com/udc_xx) です。

今までごめんなさい！

定期的にこのブログを見ていただいている方の中にはお気づきの方もいらっしゃるかと思いますが、先週あたりから広告の出方を変更しています。

GoogleAdSense の自動広告で配信していたのを停止し、自分で指定した場所だけに広告が出るように調整しました！

1週間ほど経過して、収益の推移もなんとなく見えてきたので、経緯などを記事に残しておこうと思います。

## 自動広告の精度

そもそも自動広告とは、Google が適切と考える箇所に広告を自動で流し込んでくれる機能なのですが、その判定する精度がまだ未熟なところもあるのかなと思います。

記事の文中にいきなりデカい広告が挿入されてしまうことが多々あり、記事自体読みにくくなるし、特にスマホで見た時は、スクロールするときに間違えて触ってしまうことがあるのも我ながらストレスでした。

収益は増え気味（とはいえ月にコーヒー1杯飲めるか飲めないか程度）だったのですが、誤タップしちゃうサイトを自分自身が好きになれないので、それは本望じゃないな、ってことで変更することにしました。

あくまで読んでもらうためのブログなので、読みやすさを担保できないと本末転倒だなという思いと、読んでくれてる方は大事にしたいですしね。

ちなみに、ここ一週間の収益は、自動広告止める前と比較して **-96%** らしいです。

自動広告開始した時期が定かではありませんが、多分1年くらいはやってたんじゃないかと思います。そのうち後半の半年くらいは、 ~Googleのオススメに従って~ 広告数も増やしていました。AdSenseの管理画面から広告数とか出したくない場所とか指定できるのも自動広告のメリットですね。

## Nuxt.js と GoogleAd

なぜ1年もの間、本望ではない自動広告の設定を変えずにいたかというと、単純にどこで広告出してるのかわかんなくなっちゃってたのが理由です。実際、今回広告の位置を変えるはずが、Analytics停止させちゃってましたw

このブログは一応 Nuxt.js で作られていて、Markdownで書いた記事を指定のフォルダに置いてコマンド1つ叩くだけで、テンプレを使ってHTMLを吐き出し、サーバーへアップしてくれるようになっています。

今回難しかったのは、完全に何も理解していない僕が書いたソースがカオスだったという点ですw

記事ページはテンプレ化されていて、どんな構成の記事が来てもちゃんと読めるようにしないといけないので、今回は2個目のH2タグを目印に、その直前に広告を配置するようにしました。ちょっと強引ですが、予め記事末尾に広告を2つ配置しておき、クライアント側でレンダリング後にH2タグを探して、記事末尾に配置していた広告のうち1つを移動させています。

ちなみに、H2タグが1つしか見つからないときは、1つ目のH2タグの直前に移動させ、H2タグが1つも見つからないときは何もしない＝記事末尾に広告が2つ並ぶ想定です。

[GoogleAdSenseの位置とか調整 #15](https://github.com/udcxx/blog-udcxx-me/issues/15)

## これから

自動広告の恩恵として、SPでTOPページを見た時に、記事一覧の中にいい感じに広告が紛れ込んでくれてたんだけど、それを失ってしまいました。でも実際は記事への直接流入のほうが多くて、TOPページがそもそも見られてないので、影響はそんなに無いかなと思います。

今後実装したいではありますね。PC版との兼ね合いもあって、記事一覧は3記事を1ブロックとして生成させてた気がするので、その間に広告を流し込むのはイケる気がしてます。あとはやる気の問題。

最近ブログの改修が楽しくなってるので、このテンションのうちにいろいろ良くしたいです。
