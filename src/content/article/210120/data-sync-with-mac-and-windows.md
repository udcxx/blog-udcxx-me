---
title: WinとMacでのデータ共有環境を構築する
date: 2020-01-20
tags: IT GAS
eyecatch: 210120.png
eyecatchEmoji:
description: MacとWindowsの2台体制になるので、Googleドライブを軸に、データのやり取りがしやすい環境を整えてみました
---

こんにちは、だいちゃん [@udcxx](https://twitter.com/udc_xx) です。

先日、研究（おもちゃ）目的でWindows PCを購入しました。Macだけで完結している時には気にしていなかった、データ共有を意識する必要があったので、これを機にデータ整理と、クラウドを活用したデータ管理を実践してみようと思います。

管理対象のデータですが、ブログ・ポートフォリオなどのソースコードはGithubで管理してるので、その他のドキュメント系や写真などを対象に、Googleドライブで管理していこうと思います。

ちなみに、今回を機にOneDriveに移行することも検討しましたが、無料枠の5GBでは到底足りないこと（Gドライブは15GBが無料）と、いままでの数年分の写真がGoogleフォトに溜まってるので、一気に移行するのがめんどくさかったのでGoogle系でまとめる決断をしました。Microsoft 365を契約すれば1TBになりますが、現状ではMS Officeを使う機会もあまりないため、今回は見送りました。
今後、仕事の関係などでMS Officeを使う機会が出てきたタイミングでMicrosoft 365を契約し、クラウドストレージもOneDriveに移行するつもりです。

ということで、ひとまず今回はGoogleドライブを活用して、PC間でのデータ共有を実現してみようと思います。


## 過去に環境を作った際の課題

実は大学時代にもWindowsとMacの2台併用していた時期がありました。

その頃は、 [nasne](https://amzn.to/2XQJ6In) というNAS（兼TVチューナー・レコーダー）を使っていたのですが、データは全部これで管理するぞ！と意気込んだわけではなかったため、使ったり使わなかったりしているうちに、毎回データのありかを考えるのが嫌になってきて、結局ローカルに保存してしまっていました。日常的に使っておかないと、「あのデータどのパソコンにあるっけ？」のような事態に陥りがちになってしまうので、意識せずに使えるような環境作りが大切だと実感しました。それを踏まえて、今回は **クラウドストレージをメインのストレージにする** ことを念頭に環境を作っていこうと思います。


## フォルダ構造（暫定版）を決める

今後、ドキュメント類はすべて一箇所で管理しようと思うので、カオスになるのを防ぐためにも、そして日常的に追加続けられるよう、フォルダ構造を予めルール化しておこうと思います。

ルール作りをするにあたって、ネットで軽く前例を調べてみたのですが、企業向けのものがほとんどで、そのまま個人のフォルダ管理のルールとして流用するのは使い勝手が悪そうでした。なので今回は調べたことをヒントに、自分なりに使いやすいルールに落とし込んでみようと思います。

### ルールは【「終わり」の あり／なし】

ドキュメントをしまうためのフォルダ作りの基準は、そのドキュメントの **使用期限** ・ **価値のある期間** の有無です。

例えば、ポートフォリオを作成するために集めた資料や、転職のために作ったドキュメント類は、それぞれ作成・転職が終了した時点でドキュメントとしての価値はほぼ無くなります（もちろんアーカイブとしての価値はあるけど）。そういった、ある目的のために用意されたドキュメントは、フォルダ名に開始日を含めてトップの階層に保存します。

反対に、家計簿などは蓄積することによって価値が出るし、今現在使ってるGASのスクリプトなどには期限を設けることは出来ないため、そういったファイルはまとめて「資料」というフォルダへ入れておきます。

![](/images/210120.png)


## ローカルとクラウドを同期する

整理整頓が出来たところで、次はクラウドとローカルの同期の設定をします。

Googleドライブの [バックアップと同期](https://www.google.com/drive/download/) というソフトを使います。Google Workspace（旧G Suite）を利用していれば、ローカルに保管したいファイルを選べる「Drive for desktop（ドライブファイルストリーム）」が利用できますが、個人アカウントの場合は問答無用で全ファイルが同期される「バックアップと同期」しか利用できません。とはいえ無料枠は15GBなのでそれほどローカルストレージを圧迫するとは考えにくいですが。

設定らしい設定はほとんどなく、インストール後はアカウントの紐付けと、対象にするフォルダを選択するだけで勝手に同期してくれます。MacとWindowsの両方にインストールするだけで、Googleドライブを使ったファイル共有環境ができあがります。ついでにスマートフォンでも同じファイルが見れるので、どこからでも必要なファイルへアクセスすることが出来るようになりました！

注意点としては、多少のタイムラグがあるので、同時に編集やファイルの移動をしてしまうとコンフリクトが起こる可能性があります（個人利用なのでそこまでシビアに考えなくても良さそうですが）。

あと、しばらくPCを起動させなかった時に、差分が溜まって同期に時間が掛かってしまいそうな点が個人的には気がかりです。MacもWindowsも両方まんべんなく利用するように心掛けたいところです。


-----

以上で、アクティブなファイルの同期環境が整いました！

あとは、定期的にNASと外付けHDDにバックアップを取り、アーカイブに移ったフォルダたちはGoogleドライブ上から削除してあげることで15GBだけでしばらくは使い続けたいと思っています。

2021年6月〜はGoogleドキュメント・スプレッドシート・スライドで作成したデータも容量カウントの対象になるとのことですので、ローカルで編集のしやすい、Office形式のままで同期させてしまうのが吉かな〜と思っています。

そういえば、スプレッドシートってバックアップ取れるのかな？エクセル形式で1つづつエクスポートしないといけない？
