---
title: Analyticsの設定を直した【3度目の正直】
date: 2020-01-20
tags: Blog Nuxt IT
eyecatch: 200120_2.jpg
---

こんにちは、だいちゃん [@udcxx](https://twitter.com/udc_xx) です。

Nuxt.jsで作られているこのブログですが、最近やけにPV低いなぁ（ほぼゼロ）と思ってはいたもののめんどくさくて放置していましたｗ
そして先程よくよく見てみると自分でブログを表示させながらリアルタイムレポート見ても **0** だったので、さすがにこれはダメだな〜ということでちゃんと直してみました。

## app.htmlの記述を消してた

年末あたりに、AdSenseがうまく貼れて無かった件を修正しようと、これまで ~~強引に~~ app.htmlに記述していたAnalytics・AdSenseの読み込みを削除し、 [@nuxtjs/google-adsense](https://www.npmjs.com/package/@nuxtjs/google-adsense) で広告を表示するように変更していました。

この中にAnalyticsのUIDを設定する項目があったのでてっきりこれだけでトラッキングも取れると思っていたのですが、うまく行かなかったようで...

## 結局Nuxt.jsの公式ドキュメント通りにやってみた

静的デプロイしてるのが原因なのか、そもそもAdsenseとは別で設定が必要なものなのかは分かってませんが、とりあえず [Nuxt.jsの公式ドキュメント](https://ja.nuxtjs.org/faq/google-analytics/) の通りにやってみるとちゃんとトラッキング出来るようになったみたいです。

Nuxt.jsのドキュメントは超親切丁寧だし、何より日本語なので、食わず嫌いせずにちゃんと読めばいいんですけどね。たまに **何言ってんのコイツ** ってなるから敬遠してましたが、公式ドキュメント読めるくらいの語彙力は最低限身に付けろよって事なのかもしれませんね(´；ω；｀)

## plugins/ga.jsを作成する方法で解決

前述の [公式ドキュメント](https://ja.nuxtjs.org/faq/google-analytics/) にあるように、 `plugins/ga.js` を作成し、トラッキングIDを自分のものに置き換え、 `nuxt.config.js` に `plugins/ga.js` を読み込ませる記述を追加したらすぐ動いてくれました。 **簡単じゃん！**

---

近いうちにGithubでブログのソースも公開したいなぁと思っているのですが、トラッキングIDとか公開するのは避けたいので、そういうものだけ別ファイルにまとめてそれだけはgitginoneしようと思っています。ただ別ファイルからの呼び出しがイマイチうまく行かないんですよね。 **基礎力不足だ...**

とりあえず、困ったら基本に立ち返って公式ドキュメントに目を通してみて、分からない書き方・単語はggrksということでしょうか。そんな元気あるかなぁ。
