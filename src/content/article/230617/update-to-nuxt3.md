---
title: Nuxt3へのアップデート
date: 2023-06-17
tags: IT
eyecatch:
eyecatchEmoji: 🍎
description: 久しぶりにMacBook、初めてのM1をセットアップしたときに、やったことなどをまとめておきます。
---

こんにちは、だいちゃん [@udcxx](https://twitter.com/udc_xx) です。

このブログはNuxtを使っているのですが、Vue2のサポート終了を受けて [Nuxt2が2023年末にサポート終了](https://nuxt.com/blog/vision-2023) するので、Nuxt3へのアップデートを行うことにしました。

ついでに、[無趣味の戯言で今後やっていきたいこと](https://blog.udcxx.me/article/220605/future-blog-udcxx-me/) で挙げたことを踏まえて、Nuxt3へのバージョンアップと同時に仕組みごとアップデートを行いました。

## アップデートの概要

今回のアップデートの概要は、以下の通りです。

- 記事の管理をnuxt/content v2にした
- TOPページのデザイン変えた
    - 新着記事に加えて、主要タグごとの新しい記事を確認できるようにした
- ~~nuxt-image入れた~~
    - 画像生成がまだ実装されてないので、現時点で何も変わらない。
- 絵文字用フォント入れた
- サイトマップ生成できるようにした

各項目の詳細は、追々記事にしていこうと思います。

## アップデートの感想

Nuxt3にしたメリットはあまり感じなかったです。generate時間は短くなったけど、そもそもそんなに遅いとは思ってなかったので利点として言えるかは、正直微妙なところです。

ただ、いままで敬遠してたTypeScriptが推奨されていて、設定ファイルもTSなので、触るきっかけにはなりました。コンポーネントでpropsの受け取り方が分からなかったり、そこは結局普通のJavaScriptのままにしちゃってますが😅

Nuxt3にバージョンアップするにあたってめちゃくちゃ書き直す箇所があったかというと、そこまでではありませんでした。設定ファイル（ `nuxt.content.ts` ）は結構変わりましたが、コンポーネントとか各ページを管理している `.vue` ファイルは、nuxt/contentに変えた影響で書き換えた箇所のほうが多いかもです。

ちなみに、リポジトリはこれまで利用していたものを、そのまま利用しています。いままで使っていたmasterブランチから新たにブランチを切って、Nuxt3（blog-udcxx-me v1）にバージョンアップ後、masterブランチにマージし、そこから記事を管理しているblogブランチにマージすることで、運用を開始しています。