---
title: 起動しなくなったPCの救出劇
date: 2021-12-03
tags: IT
eyecatch: 211203.jpg
eyecatchEmoji:
description: とある学習塾のPCが起動不能になってから、データ救出までの奮闘記
---

こんにちは、だいちゃん [@udcxx](https://twitter.com/udc_xx) です。

中学生の頃通っていて、大学時代にバイトもしていた学習塾のPCが起動しないとの相談を受けてからの一連の対応の記録です。

結論としては、SSDの故障でした。PC自体も元々windows 7が載ってたものなので相当年数経ってますし仕方ないですね。とはいえバックアップをしていない状態だったので、Linux（Parted Magic）を使ってデータの救出まで行いました。

## 状態の切り分け

起動時に「Windowsエラー回復処理」というタイトルの黒い画面が出て、「スタートアップ修復」「通常起動」の2択を迫られる状況で、どっちを選択しても、画面が真っ黒になったまま動かなくなります。電源ファン・CPUファンは動き続けているけど、一定のスピードで安定している様子。

端子の接触とかが怪しいのかなと思い、DVDドライブ付きだったのでそこにSSD刺してみたり、メモリ片方抜いてみたり、エアダスターでシュッシュしてみたりしたけど、状態は変わらずでした。

さらに、セーフモードでの起動を試みるも、ファイルの読み出しっぽい画面表示が途中で止まります。（どこで止まるかメモってなかったけど、毎回同じファイルの読み出しで止まってた）

以上から、SSDのとあるセクタが死んだ or 自動修復とかで移動させようとした際に失敗したとかかな？と推測し、SSDの交換が必要と判断しました。ただ、そろそろPCごと変えたほうがいいだろうなぁと提案するも予算の関係もあって一旦ストップがかかったので、とりあえず僕の余ってたPCを貸し出すことで合意してもらいました。

翌日、代機PCをセットアップしてお渡し。データが全部なくなってるので、メールとかからかき集めてみましたが、業務に影響でちゃったと思います... バックアップ計画立ててあげないとですね。

## データ復旧

できる範囲でデータを復旧させたいので、やったことないけど色々試してみることにしました。

持ち帰って、SSDを別のPCに外付けとして接続してみると、認識はするけど容量とかの情報が取得できてなくて、「フォーマットしてください」と言われるだけで何もできない状態でした。

データ復旧のために試したことを順に記載していきます。

### 1，ファイナルデータ（無料版）

みんな大好きファイナルデータ。使ったことはありませんでしたが、名前だけは知ってたので有名どころだと思います。ただ、無料版だとファイルの存在は分かるだけで、復元するには7,000円くらいの有料版を購入する必要があります。

[![](https://m.media-amazon.com/images/I/61VtCL7xigL._SL200_.jpg)](https://www.amazon.co.jp/dp/B06XDM25M9/?tag=tairiku02280e-22)    
[ファイナルデータ11plus 特別復元版|ダウンロード版](https://www.amazon.co.jp/dp/B06XDM25M9/?tag=tairiku02280e-22)

無料版を使ってみると、データの存在を確認することができました！ただ、今回はなるべく費用は掛けたくなかったので、もう少し他の方法を試してみることにしました。

### 2，HDAT2

認識はするけど中身が読めない、でもファイナルデータなら読めるということは、SSDのどこか一部（しかも大事なところ）のセクタが死んだのかな？と思い、HDAT2を試してみました。

[Ultimate Boot CD](https://pctrouble.net/software/ubcd.html) という起動ディスクにも同梱されていますが、それだとうまく動作しなかったので  [HDAT2 Lite版を単体](https://pctrouble.net/software/hdat2.html) で起動ディスク作ったほうがいいと思います。

実行してみると、全セクタ正常という結果でした...

### 3，CHKDSK

いやいや絶対どっかに不良セクタかなにかがあるはず！ということで、Check Diskを試してみました。

これはWindowsにある機能で、ディスクのエラーを修正してくれるらしいです。不良セクタ以外にも効きそうだったので。ただ、エラー修正時にデータが破損する可能性もあるようなので注意が必要です。

`$ chkdsk F: /f`

[chkdsk | Microsoft Docs](https://docs.microsoft.com/ja-jp/windows-server/administration/windows-commands/chkdsk)

実行結果は、ステージ2で不明なエラーを吐いて終了してしまい、何も分からず。。。

### Parted Magic

こちらも [Ultimate Boot CD](https://pctrouble.net/software/ubcd.html) に同梱されているLinuxディストリビューションで、最新版は有料ですが、無料だった時代のものが入っているそうです。

Linuxといえば、大昔（Windows XP使ってる頃）にもHDDやらかしてKNOPPIX使ったなぁ... あの起動ディスクどこいったかなぁ... などと懐かしい気持ちになりましたw

Parted MagicもKNOPPIXも普通に直感で使えちゃうので、Linuxに対するハードル（偏見）が低くなりますね。

そしてしかもなんと！普通にファイルの読み書きが可能でした！コピペするだけで簡単にデータ抜き出しできちゃいました。

最初からLinuxを使うことを思いつけばよかった...

---

色々試した結果、Windowsだと存在は認識するけど、容量とかすら判明しない状態で、Linuxだとファイルを普通に読み出せたので、メタ情報的なやつ？ファイルシステムが何なのか？辺りが読み出せなくなってるのかなと推測しています（この辺の知識が全然ない）

そして、今回はどうにかなったものの、前もって **定期的なバックアップ** と、 **PC自体の更新** を定期的にアナウンスしていくべきでした。その辺りもコミュニケーション取りつつ、今後も関わっていけたらと思っています。

このトラブルを通して、サポート系の職も（規模によるけど）楽しいなぁと再認識することもできました。
